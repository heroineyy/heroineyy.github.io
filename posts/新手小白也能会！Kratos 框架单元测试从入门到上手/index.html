<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="这是一个个人博客，记录技术学习和生活感悟"><title>新手小白也能会！Kratos 框架单元测试从入门到上手 | RenaXu 's Wonderland</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=1.0.0"><link rel="stylesheet" type="text/css" href="/css/custom-icons.css?v=1.0.0"><link rel="stylesheet" type="text/css" href="/css/toc.css?v=1.0.0"><link rel="stylesheet" type="text/css" href="https://unpkg.com/normalize.css"><link rel="stylesheet" type="text/css" href="https://unpkg.com/purecss/build/pure-min.css"><link rel="stylesheet" type="text/css" href="https://unpkg.com/purecss/build/grids-responsive-min.css"><link rel="stylesheet" href="https://unpkg.com/font-awesome@4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="https://unpkg.com/jquery/dist/jquery.min.js"></script><link rel="icon" mask="" sizes="any" href="/favicon.ico"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><script type="text/javascript" src="https://unpkg.com/clipboard/dist/clipboard.min.js"></script><script type="text/javascript" src="https://unpkg.com/toastr/build/toastr.min.js"></script><link rel="stylesheet" href="https://unpkg.com/toastr/build/toastr.min.css"><div class="darkmode-toggle">🌓</div><script>var prefersDarkMode = window.matchMedia('(prefers-color-scheme: dark)');
var toggle = document.querySelector('.darkmode-toggle');
var html = document.querySelector('html');

html.dataset.dark = localStorage.dark || prefersDarkMode.matches;

toggle.addEventListener('click', () => {
localStorage.dark = !(html.dataset.dark == 'true');
html.dataset.dark = localStorage.dark;
});</script><meta name="generator" content="Hexo 8.1.1"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">新手小白也能会！Kratos 框架单元测试从入门到上手</h1><a id="logo" href="/.">RenaXu 's Wonderland</a><p class="description">分享技术与生活</p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-4-4"><div class="content_container"><div class="post"><h1 class="post-title">新手小白也能会！Kratos 框架单元测试从入门到上手</h1><div class="post-meta">2026-01-07<span> | </span><span class="category"><a href="/categories/%E6%8A%80%E6%9C%AF/">技术</a></span><span class="post-time"><span class="post-meta-item-text"> | </span><span class="post-meta-item-icon"><i class="fa fa-keyboard-o"></i><span class="post-count"> 1.7k</span><span class="post-meta-item-text"> 字</span></span></span><span class="post-time"> | <span class="post-meta-item-icon"><i class="fa fa-clock-o"></i><span class="post-count"> 7</span><span class="post-meta-item-text"> 分钟</span></span></span></div><div class="clear"><div class="toc-article" id="toc"><div class="toc-title">文章目录</div><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link"><span class="toc-text">一、先搞懂：单元测试到底解决什么问题？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link"><span class="toc-text">二、实战：Kratos 框架单元测试三步法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link"><span class="toc-text">第一步：编写测试依赖上下文（testhelper.go）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link"><span class="toc-text">第二步：依赖注入初始化（wire.go）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link"><span class="toc-text">第三步：编写单元测试用例（demo_test.go）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link"><span class="toc-text">关键规则提醒</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link"><span class="toc-text">三、总结：Kratos 单元测试核心三步</span></a></li></ol></div></div><div class="post-content"><p>作为编程新手，你是不是也有这样的困扰：想验证一个接口功能，总要先把整个项目跑起来，再用 Postman 一遍遍地调试验证？不仅耗时，还得依赖项目完整运行。今天就以 Kratos 框架为例，手把手教你写单元测试——不用启动整个项目，也能精准验证功能逻辑，从小白到「单元测试大佬」（假的🤡）～</p>
<h2><span id="一-先搞懂单元测试到底解决什么问题">一、先搞懂：单元测试到底解决什么问题？</span></h2><p>单元测试的核心是<strong>测试项目中某个独立的方法&#x2F;函数是否符合预期</strong>，比如一个接口的核心逻辑、一个业务层的处理函数。</p>
<p>对比传统调试方式，单元测试的优势：</p>
<ul>
<li><p>不依赖项目完整运行：哪怕项目其他模块没写完，也能单独测试目标功能</p>
</li>
<li><p>覆盖多场景：可以轻松编写正常&#x2F;异常&#x2F;边界等多种测试用例</p>
</li>
<li><p>节省时间：一次编写，多次运行，改代码后一键验证是否改坏原有逻辑</p>
</li>
</ul>
<h2><span id="二-实战kratos-框架单元测试三步法">二、实战：Kratos 框架单元测试三步法</span></h2><p>Kratos 框架基于依赖注入设计，写单元测试的核心是「先搭好测试依赖环境，再写测试用例」，全程分 3 步搞定。</p>
<h3><span id="第一步编写测试依赖上下文testhelpergo">第一步：编写测试依赖上下文（testhelper.go）</span></h3><p>先新建一个 <code>testhelper</code> 文件夹，创建 <code>testhelper.go</code> 文件，用来封装测试需要的所有依赖（配置、日志、业务层、数据层等），相当于给单元测试搭一个「迷你运行环境」。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">package testhelper</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">    &quot;your-project/internal/biz&quot;   // 业务层包路径</span><br><span class="line">    &quot;your-project/internal/conf&quot;  // 配置包路径</span><br><span class="line">    &quot;your-project/internal/data&quot;  // 数据层包路径</span><br><span class="line">    &quot;your-project/internal/service&quot; // 服务层包路径</span><br><span class="line">    &quot;github.com/go-kratos/kratos/v2/log&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">// TestContext 封装单元测试所需的所有依赖组件</span><br><span class="line">// 可根据测试场景按需添加/删除依赖字段</span><br><span class="line">type TestContext struct &#123;</span><br><span class="line">    Config     *conf.Bootstrap       // 全局启动配置</span><br><span class="line">    CommonConf *conf.CommonService   // 通用服务配置</span><br><span class="line">    Logger     log.Logger            // 日志组件</span><br><span class="line">    DataClient *data.Data            // 数据层客户端</span><br><span class="line">    BizUsecase *biz.DemoUsecase      // 业务层用例</span><br><span class="line">    DemoService *service.DemoService // 待测试的服务</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// NewTestContext 创建包含所有测试依赖的上下文实例</span><br><span class="line">func NewTestContext(</span><br><span class="line">    bc *conf.Bootstrap,</span><br><span class="line">    commonConf *conf.CommonService,</span><br><span class="line">    logger log.Logger,</span><br><span class="line">    dataClient *data.Data,</span><br><span class="line">    bizUsecase *biz.DemoUsecase,</span><br><span class="line">    demoService *service.DemoService,</span><br><span class="line">) *TestContext &#123;</span><br><span class="line">    return &amp;TestContext&#123;</span><br><span class="line">        Config:     bc,</span><br><span class="line">        CommonConf: commonConf,</span><br><span class="line">        Logger:     logger,</span><br><span class="line">        DataClient: dataClient,</span><br><span class="line">        BizUsecase: bizUsecase,</span><br><span class="line">        DemoService: demoService,</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3><span id="第二步依赖注入初始化wirego">第二步：依赖注入初始化（wire.go）</span></h3><p>新建 <code>wire.go</code> 文件，通过 Google Wire 实现依赖注入的初始化，生成可直接调用的「依赖初始化函数」。</p>
<p>小贴士：Wire 是 Kratos 常用的依赖注入工具，需先安装：<code>go install github.com/google/wire/cmd/wire@latest</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">//go:build wireinject</span><br><span class="line">// +build wireinject</span><br><span class="line"></span><br><span class="line">package testhelper</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">    &quot;your-project/internal/conf&quot;  // 配置包路径</span><br><span class="line">    &quot;your-project/internal/server&quot; // 服务注册包路径</span><br><span class="line">    &quot;github.com/google/wire&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">// InitializeTestContext 初始化测试上下文（由 Wire 自动生成实现）</span><br><span class="line">// 返回值：测试上下文实例、资源清理函数、错误信息</span><br><span class="line">func InitializeTestContext() (*TestContext, func(), error) &#123;</span><br><span class="line">    wire.Build(</span><br><span class="line">        // 基础配置依赖（需自己实现：读取配置文件）</span><br><span class="line">        provideConfig,        // 提供 conf.Bootstrap 实例</span><br><span class="line">        provideCommonService, // 提供 conf.CommonService 实例</span><br><span class="line">        provideLogger,        // 提供 log.Logger 实例</span><br><span class="line">        </span><br><span class="line">        // Kratos 服务层/数据层/业务层依赖集（项目中已定义）</span><br><span class="line">        server.DataProviderSet,  // 数据层依赖</span><br><span class="line">        server.BizProviderSet,    // 业务层依赖</span><br><span class="line">        server.ServiceProviderSet,// 服务层依赖</span><br><span class="line">        </span><br><span class="line">        // 绑定测试上下文</span><br><span class="line">        NewTestContext,</span><br><span class="line">    )</span><br><span class="line">    return nil, nil, nil // 占位：Wire 会自动生成真实逻辑</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 以下是配置依赖的示例实现（需根据自己项目调整）</span><br><span class="line">func provideConfig() *conf.Bootstrap &#123;</span><br><span class="line">    // 实际项目中：读取 yaml/toml 配置文件，解析为 conf.Bootstrap</span><br><span class="line">    return &amp;conf.Bootstrap&#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func provideCommonService(conf *conf.Bootstrap) *conf.CommonService &#123;</span><br><span class="line">    return conf.CommonService</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func provideLogger() log.Logger &#123;</span><br><span class="line">    return log.DefaultLogger</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>写完后，在 <code>testhelper</code> 文件夹下执行终端命令：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wire</span><br></pre></td></tr></table></figure>
<p>执行成功后会生成 <code>wire_gen.go</code> 文件——这是单元测试的「核心钥匙」，里面包含了 <code>InitializeTestContext</code> 的真实实现。</p>
<h3><span id="第三步编写单元测试用例demo_testgo">第三步：编写单元测试用例（demo_test.go）</span></h3><p>新建测试文件（<strong>文件名必须以 _test 结尾</strong>），比如 <code>demo_test.go</code>，以「测试一个查询接口」为例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line">package testhelper</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">    &quot;context&quot;</span><br><span class="line">    v1 &quot;your-project/api/v1&quot; // API 定义包路径</span><br><span class="line">    &quot;testing&quot;</span><br><span class="line"></span><br><span class="line">    &quot;github.com/stretchr/testify/assert&quot;</span><br><span class="line">    &quot;github.com/stretchr/testify/require&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">// 测试用例表格：覆盖不同场景（正常/异常/边界）</span><br><span class="line">var testCases = []struct &#123;</span><br><span class="line">    name        string          // 用例名称</span><br><span class="line">    request     v1.DemoRequest  // 测试请求参数</span><br><span class="line">    expectCount int             // 预期返回数据条数</span><br><span class="line">&#125;&#123;</span><br><span class="line">    &#123;</span><br><span class="line">        name: &quot;正常场景：按ID查询&quot;,</span><br><span class="line">        request: v1.DemoRequest&#123;</span><br><span class="line">            Id:      &quot;123456&quot;,</span><br><span class="line">            PageNum: 1,</span><br><span class="line">            PageSize: 10,</span><br><span class="line">        &#125;,</span><br><span class="line">        expectCount: 1,</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        name: &quot;边界场景：空ID查询&quot;,</span><br><span class="line">        request: v1.DemoRequest&#123;</span><br><span class="line">            Id:      &quot;&quot;,</span><br><span class="line">            PageNum: 1,</span><br><span class="line">            PageSize: 10,</span><br><span class="line">        &#125;,</span><br><span class="line">        expectCount: 0,</span><br><span class="line">    &#125;,</span><br><span class="line">    // 可继续添加更多用例：比如分页超出范围、参数非法等</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 单元测试函数：必须以 Test 开头，入参为 *testing.T</span><br><span class="line">func TestDemoService_QueryData(t *testing.T) &#123;</span><br><span class="line">    // 1. 初始化测试上下文（核心：从 wire_gen.go 获取依赖）</span><br><span class="line">    ins, cleanup, err := InitializeTestContext()</span><br><span class="line">    require.NoError(t, err, &quot;❌ 初始化测试上下文失败：%v&quot;, err)</span><br><span class="line">    defer cleanup() // 测试结束后清理资源（比如关闭数据库连接）</span><br><span class="line"></span><br><span class="line">    // 2. 构建上下文（可添加用户ID、权限等上下文信息）</span><br><span class="line">    ctx := context.Background()</span><br><span class="line">    ctx = context.WithValue(ctx, &quot;uid&quot;, &quot;10086&quot;) // 模拟请求上下文</span><br><span class="line"></span><br><span class="line">    // 3. 遍历测试用例，逐个执行</span><br><span class="line">    for _, tc := range testCases &#123;</span><br><span class="line">        // t.Run：单独执行每个用例，失败不影响其他用例</span><br><span class="line">        t.Run(tc.name, func(t *testing.T) &#123;</span><br><span class="line">            t.Logf(&quot;🚀 开始执行用例：%s&quot;, tc.name)</span><br><span class="line"></span><br><span class="line">            // 4. 调用待测试的方法</span><br><span class="line">            res, err := ins.DemoService.QueryData(ctx, &amp;tc.request)</span><br><span class="line"></span><br><span class="line">            // 5. 断言验证结果（核心：判断是否符合预期）</span><br><span class="line">            if assert.NoError(t, err, &quot;❌ 接口调用失败：%v&quot;, err) &#123;</span><br><span class="line">                t.Logf(&quot;✅ 接口调用成功&quot;)</span><br><span class="line">                assert.NotNil(t, res, &quot;❌ 响应结果不能为空&quot;)</span><br><span class="line">                </span><br><span class="line">                if tc.expectCount &gt;= 0 &#123;</span><br><span class="line">                    assert.Len(t, res.DataList, tc.expectCount,</span><br><span class="line">                        &quot;❌ 返回数据条数不符预期：预期%d，实际%d&quot;,</span><br><span class="line">                        tc.expectCount, len(res.DataList))</span><br><span class="line">                &#125;</span><br><span class="line">                </span><br><span class="line">                t.Logf(&quot;📊 测试通过：返回 %d 条数据&quot;, len(res.DataList))</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3><span id="关键规则提醒">关键规则提醒</span></h3><ol>
<li><p>测试文件命名：必须以 <code>_test.go</code> 结尾（比如 <code>demo_test.go</code>）；</p>
</li>
<li><p>测试函数命名：必须以 <code>Test</code> 开头，入参固定为 <code>*testing.T</code>（比如 <code>TestDemoService_QueryData</code>）；</p>
</li>
<li><p>执行测试：在测试文件所在目录执行 <code>go test -v</code>（<code>-v</code> 显示详细日志）。</p>
</li>
</ol>
<h2><span id="三-总结kratos-单元测试核心三步">三、总结：Kratos 单元测试核心三步</span></h2><ol>
<li><p><strong>搭依赖</strong>：通过 <code>testhelper.go</code> 封装测试需要的所有依赖（配置、服务、日志等）；</p>
</li>
<li><p><strong>做注入</strong>：通过 <code>wire.go</code> 生成依赖初始化函数（执行 <code>wire</code> 命令）；</p>
</li>
<li><p><strong>写用例</strong>：通过 <code>xxx_test.go</code> 编写测试用例，调用初始化函数验证功能。</p>
</li>
</ol>
<p>其实单元测试没有想象中复杂，核心就是「隔离依赖、覆盖场景、验证结果」。刚开始可以先写简单的正常场景，慢慢扩展到异常、边界场景，写多了就会发现——单元测试能帮我们提前发现很多 Bug，远比手动调试高效～</p>
</div><div class="tags"><ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%90%8E%E7%AB%AF/" rel="tag">后端</a></li></ul></div><div class="post-nav"><a class="pre" href="/posts/%E5%85%B3%E4%BA%8E%E8%BD%AC%E6%AD%A3%E5%A4%B1%E8%B4%A5%E6%88%91%E5%81%9A%E5%AF%B9%E4%BA%86%E5%93%AA%E4%BA%9B%E4%BA%8B%E6%83%85/">关于转正失败我做对了哪些事情</a><a class="next" href="/posts/%E5%AE%9E%E4%B9%A0%E5%A4%8D%E7%9B%98%EF%BC%9A%E9%81%87%E5%88%B0%E9%97%AE%E9%A2%98%E7%9A%84%E5%88%86%E7%B1%BB%E4%B8%8E%E6%80%BB%E7%BB%93/">实习复盘：遇到问题的分类与总结</a></div></div></div></div><div class="pure-u-1 pure-u-md-4-4"><div id="footer">Copyright © 2026 <a href="/." rel="nofollow">RenaXu 's Wonderland.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=1.0.0" async></script><script type="text/javascript" src="https://unpkg.com/@fancyapps/fancybox/dist/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=1.0.0" async></script><link rel="stylesheet" type="text/css" href="https://unpkg.com/@fancyapps/fancybox/dist/jquery.fancybox.min.css"><link rel="stylesheet" type="text/css" href="/css/search.css?v=1.0.0"><script type="text/javascript" src="/js/search.js?v=1.0.0"></script><script>var search_path = 'search.xml';
if (search_path.length == 0) {
  search_path = 'search.xml';
}
var path = '/' + search_path;
searchFunc(path, 'local-search-input', 'local-search-result');
</script><script type="text/javascript" src="/js/copycode.js?v=1.0.0" successtext="复制成功！"></script><link rel="stylesheet" type="text/css" href="/css/copycode.css?v=1.0.0"><script type="text/javascript" src="/js/codeblock-resizer.js?v=1.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=1.0.0"></script><script type="text/javascript" src="/js/toc.js?v=1.0.0"></script></div></body></html>