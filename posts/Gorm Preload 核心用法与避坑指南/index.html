<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="è¿™æ˜¯ä¸€ä¸ªä¸ªäººåšå®¢ï¼Œè®°å½•æŠ€æœ¯å­¦ä¹ å’Œç”Ÿæ´»æ„Ÿæ‚Ÿ"><title> Gorm Preload æ ¸å¿ƒç”¨æ³•ä¸é¿å‘æŒ‡å—  | RenaXu 's Wonderland</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=1.0.0"><link rel="stylesheet" type="text/css" href="/css/custom-icons.css?v=1.0.0"><link rel="stylesheet" type="text/css" href="/css/toc.css?v=1.0.0"><link rel="stylesheet" type="text/css" href="https://unpkg.com/normalize.css"><link rel="stylesheet" type="text/css" href="https://unpkg.com/purecss/build/pure-min.css"><link rel="stylesheet" type="text/css" href="https://unpkg.com/purecss/build/grids-responsive-min.css"><link rel="stylesheet" href="https://unpkg.com/font-awesome@4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="https://unpkg.com/jquery/dist/jquery.min.js"></script><link rel="icon" mask="" sizes="any" href="/favicon.ico"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><script type="text/javascript" src="https://unpkg.com/clipboard/dist/clipboard.min.js"></script><script type="text/javascript" src="https://unpkg.com/toastr/build/toastr.min.js"></script><link rel="stylesheet" href="https://unpkg.com/toastr/build/toastr.min.css"><div class="darkmode-toggle">ğŸŒ“</div><script>var prefersDarkMode = window.matchMedia('(prefers-color-scheme: dark)');
var toggle = document.querySelector('.darkmode-toggle');
var html = document.querySelector('html');

html.dataset.dark = localStorage.dark || prefersDarkMode.matches;

toggle.addEventListener('click', () => {
localStorage.dark = !(html.dataset.dark == 'true');
html.dataset.dark = localStorage.dark;
});</script><meta name="generator" content="Hexo 8.1.1"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden"> Gorm Preload æ ¸å¿ƒç”¨æ³•ä¸é¿å‘æŒ‡å— </h1><a id="logo" href="/.">RenaXu 's Wonderland</a><p class="description">åˆ†äº«æŠ€æœ¯ä¸ç”Ÿæ´»</p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> é¦–é¡µ</i></a><a href="/archives/"><i class="fa fa-archive"> å½’æ¡£</i></a><a href="/about/"><i class="fa fa-user"> å…³äº</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-4-4"><div class="content_container"><div class="post"><h1 class="post-title"> Gorm Preload æ ¸å¿ƒç”¨æ³•ä¸é¿å‘æŒ‡å— </h1><div class="post-meta">2026-01-05<span> | </span><span class="category"><a href="/categories/%E6%8A%80%E6%9C%AF/">æŠ€æœ¯</a></span><span class="post-time"><span class="post-meta-item-text"> | </span><span class="post-meta-item-icon"><i class="fa fa-keyboard-o"></i><span class="post-count"> 1.1k</span><span class="post-meta-item-text"> å­—</span></span></span><span class="post-time"> | <span class="post-meta-item-icon"><i class="fa fa-clock-o"></i><span class="post-count"> 4</span><span class="post-meta-item-text"> åˆ†é’Ÿ</span></span></span></div><div class="clear"><div class="toc-article" id="toc"><div class="toc-title">æ–‡ç« ç›®å½•</div><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link"><span class="toc-text">ä¸€ã€Preload æ ¸å¿ƒä»·å€¼ä¸åŸç†</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link"><span class="toc-text">1. æ ¸å¿ƒä»·å€¼</span></a></li><li class="toc-item toc-level-3"><a class="toc-link"><span class="toc-text">2. å·¥ä½œåŸç†</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link"><span class="toc-text">äºŒã€æ ¸å¿ƒæ¦‚å¿µï¼šä¸»æ¨¡å‹ä¸å…³è”æ¨¡å‹</span></a></li><li class="toc-item toc-level-2"><a class="toc-link"><span class="toc-text">ä¸‰ã€æ ¸å¿ƒé…ç½®è§„åˆ™ï¼šforeignKey ä¸ references</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link"><span class="toc-text">åŸºç¡€å®šä¹‰</span></a></li><li class="toc-item toc-level-3"><a class="toc-link"><span class="toc-text">åˆ†åœºæ™¯é…ç½®ç¤ºä¾‹</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link"><span class="toc-text">åœºæ™¯ 1ï¼šä¸€å¯¹ä¸€ï¼ˆOrder â†’ Userï¼ŒOrder æŒå¤–é”®ï¼‰</span></a></li><li class="toc-item toc-level-4"><a class="toc-link"><span class="toc-text">åœºæ™¯ 2ï¼šä¸€å¯¹å¤šï¼ˆUser â†’ Orderï¼ŒOrder æŒå¤–é”®ï¼‰</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link"><span class="toc-text">Gorm æ ‡ç­¾è§£æé€»è¾‘</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link"><span class="toc-text">å››ã€çœç•¥ references çš„é»˜è®¤è¡Œä¸º</span></a></li><li class="toc-item toc-level-2"><a class="toc-link"><span class="toc-text">äº”ã€å…³é”®åŒºåˆ†ï¼šæ ‡ç­¾ä¸æ•°æ®åº“å¤–é”®çº¦æŸ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link"><span class="toc-text">å…­ã€é¿å‘æ¸…å•ä¸æ³¨æ„äº‹é¡¹</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link"><span class="toc-text">1. æ ‡ç­¾é…ç½®</span></a></li><li class="toc-item toc-level-3"><a class="toc-link"><span class="toc-text">2. æ€§èƒ½ä¼˜åŒ–</span></a></li><li class="toc-item toc-level-3"><a class="toc-link"><span class="toc-text">3. æ’é”™æŠ€å·§</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link"><span class="toc-text">ä¸ƒã€æ ¸å¿ƒè¦ç‚¹æ€»ç»“</span></a></li></ol></div></div><div class="post-content"><blockquote>
<p>Gorm çš„ <code>Preload</code> æ˜¯å¤šè¡¨å…³è”æŸ¥è¯¢çš„æ ¸å¿ƒåŠŸèƒ½ï¼Œèƒ½é«˜æ•ˆè§£å†³ N+1 æŸ¥è¯¢é—®é¢˜ï¼Œä½†é…ç½® <code>foreignKey</code> å’Œ <code>references</code> æ—¶å®¹æ˜“è¸©å‘ã€‚æœ¬æ–‡ç²¾ç®€æ¢³ç†å…¶æ ¸å¿ƒåŸç†ã€é…ç½®è§„åˆ™ä¸é¿å‘è¦ç‚¹ï¼Œå¸®åŠ©å¿«é€ŸæŒæ¡ç”¨æ³•ã€‚</p>
</blockquote>
<h2><span id="ä¸€-preload-æ ¸å¿ƒä»·å€¼ä¸åŸç†">ä¸€ã€Preload æ ¸å¿ƒä»·å€¼ä¸åŸç†</span></h2><h3><span id="1-æ ¸å¿ƒä»·å€¼">1. æ ¸å¿ƒä»·å€¼</span></h3><ul>
<li>è§£å†³ N+1 é—®é¢˜ï¼šæ‰¹é‡æŸ¥è¯¢+å†…å­˜æ‹¼æ¥ï¼Œä»…éœ€ 2 æ¬¡æ•°æ®åº“è¯·æ±‚ï¼Œæå‡æ€§èƒ½ï¼›</li>
<li>ç®€åŒ–é€»è¾‘ï¼šæ— éœ€å¤æ‚ JOIN è¯­å¥ï¼Œæ ‡ç­¾é…ç½®å³å¯å®ç°å…³è”æŸ¥è¯¢ï¼Œè¿”å›ç»“æ„åŒ–æ•°æ®ï¼›</li>
<li>çµæ´»ç­›é€‰ï¼šæ”¯æŒé—­åŒ…å®ç°å…³è”æ•°æ®çš„ç­›é€‰ã€æ’åºã€åˆ†é¡µã€‚</li>
</ul>
<h3><span id="2-å·¥ä½œåŸç†">2. å·¥ä½œåŸç†</span></h3><ol>
<li>æŸ¥è¯¢ä¸»æ¨¡å‹æ•°æ®ï¼Œæå–å…³è”åŒ¹é…æ‰€éœ€ ID é›†åˆï¼ˆå¤–é”®æˆ–ä¸»é”®ï¼‰ï¼›</li>
<li>å…³è”æ¨¡å‹æ‰¹é‡æŸ¥è¯¢ï¼šç”¨ <code>IN</code> æ¡ä»¶åŒ¹é… ID é›†åˆï¼Œè·å–å…³è”æ•°æ®ï¼›</li>
<li>å†…å­˜æ‹¼æ¥ï¼šæŒ‰æ ‡ç­¾è§„åˆ™å°†å…³è”æ•°æ®å¡«å……åˆ°ä¸»æ¨¡å‹å…³è”å­—æ®µã€‚</li>
</ol>
<h2><span id="äºŒ-æ ¸å¿ƒæ¦‚å¿µä¸»æ¨¡å‹ä¸å…³è”æ¨¡å‹">äºŒã€æ ¸å¿ƒæ¦‚å¿µï¼šä¸»æ¨¡å‹ä¸å…³è”æ¨¡å‹</span></h2><ul>
<li>ä¸»æ¨¡å‹ï¼šæŸ¥è¯¢å‘èµ·æ–¹ + å…³è”æ ‡ç­¾é™„ç€æ–¹ï¼›ï¼ˆå³ç±»ä¼¼foreignKey ä¸ referencesæ ‡ç­¾ï¼‰</li>
<li>å…³è”æ¨¡å‹ï¼šä¸»æ¨¡å‹æŒ‡å‘çš„ã€éœ€é¢„åŠ è½½çš„æ¨¡å‹ã€‚</li>
</ul>
<p>ç¤ºä¾‹ï¼š<code>db.Preload(&quot;Buyer&quot;).Find(&amp;orders)</code> ä¸­ï¼ŒOrder æ˜¯ä¸»æ¨¡å‹ï¼ŒUser æ˜¯å…³è”æ¨¡å‹ï¼›<code>db.Preload(&quot;Orders&quot;).Find(&amp;users)</code> ä¸­ï¼ŒUser æ˜¯ä¸»æ¨¡å‹ï¼ŒOrder æ˜¯å…³è”æ¨¡å‹ã€‚</p>
<h2><span id="ä¸‰-æ ¸å¿ƒé…ç½®è§„åˆ™foreignkey-ä¸-references">ä¸‰ã€æ ¸å¿ƒé…ç½®è§„åˆ™ï¼šforeignKey ä¸ references</span></h2><p>äºŒè€…æ˜¯é…å¥—çš„â€œåŒ¹é…è§„åˆ™å¯¹â€ï¼ŒéåŒä¸€æ¦‚å¿µï¼š</p>
<ul>
<li>foreignKeyï¼šæŒ‡å‘<strong>å¤–é”®æŒæœ‰æ–¹</strong>çš„å¤–é”®å­—æ®µï¼ˆåŒ¹é…å‡­è¯ï¼‰ï¼›</li>
<li>referencesï¼šæŒ‡å‘<strong>è¢«å…³è”æ–¹</strong>çš„ä¸»é”®å­—æ®µï¼ˆåŒ¹é…ç›®æ ‡ï¼‰ã€‚</li>
</ul>
<h3><span id="åŸºç¡€å®šä¹‰">åŸºç¡€å®šä¹‰</span></h3><ul>
<li>ä¸»é”®ï¼šè¡¨çš„å”¯ä¸€æ ‡è¯†ï¼Œéç©ºå”¯ä¸€ï¼ˆå¦‚ User.UserIDï¼‰ï¼›</li>
<li>å¤–é”®ï¼šå­˜å‚¨å¦ä¸€è¡¨ä¸»é”®çš„å…³è”å‡­è¯ï¼Œå¯é‡å¤å¯ç©ºï¼ˆå¦‚ Order.BuyerIDï¼‰ã€‚</li>
</ul>
<h3><span id="åˆ†åœºæ™¯é…ç½®ç¤ºä¾‹">åˆ†åœºæ™¯é…ç½®ç¤ºä¾‹</span></h3><h4><span id="åœºæ™¯-1ä¸€å¯¹ä¸€order-userorder-æŒå¤–é”®">åœºæ™¯ 1ï¼šä¸€å¯¹ä¸€ï¼ˆOrder â†’ Userï¼ŒOrder æŒå¤–é”®ï¼‰</span></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">type Order struct &#123;</span><br><span class="line">  gorm.Model</span><br><span class="line">  OrderID     uint    `gorm:&quot;primaryKey;column:order_id&quot;`</span><br><span class="line">  BuyerID     uint    `gorm:&quot;column:buyer_id&quot;` // å¤–é”®</span><br><span class="line">  Buyer       User    `gorm:&quot;foreignKey:BuyerID;references:UserID&quot;`</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">type User struct &#123;</span><br><span class="line">  gorm.Model</span><br><span class="line">  UserID   uint   `gorm:&quot;primaryKey;column:user_id&quot;` // è¢«å…³è”æ–¹ä¸»é”®</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>âš ï¸è¿™é‡Œä¸ºä»€ä¹ˆforeignKeyçš„å€¼æ˜¯æŒ‡å‘Order.BuyerIDï¼Ÿ</p>
<p>å› ä¸ºOrderçš„BuyerIDæ˜¯Orderçš„å¤–é”®ï¼Œå…³è”Userçš„UserIDï¼ˆä¸»é”®ï¼‰</p>
<h4><span id="åœºæ™¯-2ä¸€å¯¹å¤šuser-orderorder-æŒå¤–é”®">åœºæ™¯ 2ï¼šä¸€å¯¹å¤šï¼ˆUser â†’ Orderï¼ŒOrder æŒå¤–é”®ï¼‰</span></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">type User struct &#123;</span><br><span class="line">  gorm.Model</span><br><span class="line">  UserID   uint     `gorm:&quot;primaryKey;column:user_id&quot;`</span><br><span class="line">  Orders   []Order  `gorm:&quot;foreignKey:BuyerID;references:UserID&quot;`</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">type Order struct &#123;</span><br><span class="line">  gorm.Model</span><br><span class="line">  OrderID     uint    `gorm:&quot;primaryKey;column:order_id&quot;`</span><br><span class="line">  BuyerID     uint    `gorm:&quot;column:buyer_id&quot;` // å¤–é”®</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>âš ï¸è¿™é‡Œä¸ºä»€ä¹ˆforeignKeyçš„å€¼æ˜¯æŒ‡å‘Order.BuyerIDï¼Ÿ</p>
<p>å› ä¸ºOrderçš„BuyerIDæ˜¯Orderçš„å¤–é”®ï¼Œå…³è”Userçš„UserIDï¼ˆä¸»é”®ï¼‰</p>
<h3><span id="gorm-æ ‡ç­¾è§£æé€»è¾‘">Gorm æ ‡ç­¾è§£æé€»è¾‘</span></h3><ol>
<li>è§£ææ ‡ç­¾ä½ç½®ï¼Œç¡®å®šä¸»&#x2F;å…³è”æ¨¡å‹ï¼›</li>
<li>æ£€æŸ¥ä¸»æ¨¡å‹æ˜¯å¦å­˜åœ¨ foreignKey é…ç½®å­—æ®µï¼šå­˜åœ¨åˆ™ä¸»æ¨¡å‹æ˜¯å¤–é”®æŒæœ‰æ–¹ï¼Œå¦åˆ™å…³è”æ¨¡å‹æ˜¯æŒæœ‰æ–¹ã€‚</li>
</ol>
<p>æ€»ç»“ï¼šè°æŒå¤–é”®ï¼ŒforeignKey å°±æŒ‡å‘è°ï¼›references æ°¸è¿œæŒ‡å‘è¢«å…³è”æ–¹ä¸»é”®ã€‚</p>
<h2><span id="å››-çœç•¥-references-çš„é»˜è®¤è¡Œä¸º">å››ã€çœç•¥ references çš„é»˜è®¤è¡Œä¸º</span></h2><ul>
<li>é»˜è®¤æŒ‡å‘è¢«å…³è”æ¨¡å‹çš„ä¸»é”®ï¼›</li>
<li>ä¸»é”®åˆ¤å®šä¼˜å…ˆçº§ï¼šæ˜¾å¼ <code>primaryKey</code> æ ‡ç­¾å­—æ®µ &gt; åä¸º ID çš„å­—æ®µï¼›</li>
<li>é¿å‘ï¼šå”¯ä¸€é”®ã€è”åˆä¸»é”®åœºæ™¯éœ€æ˜¾å¼æŒ‡å®š referencesã€‚</li>
</ul>
<h2><span id="äº”-å…³é”®åŒºåˆ†æ ‡ç­¾ä¸æ•°æ®åº“å¤–é”®çº¦æŸ">äº”ã€å…³é”®åŒºåˆ†ï¼šæ ‡ç­¾ä¸æ•°æ®åº“å¤–é”®çº¦æŸ</span></h2><p>äºŒè€…å®Œå…¨ç‹¬ç«‹ï¼š</p>
<ul>
<li>æ•°æ®åº“å¤–é”®çº¦æŸï¼šä¿è¯æ•°æ®å®Œæ•´æ€§ï¼Œä¸ Preload æ— å…³ï¼›</li>
<li>Gorm æ ‡ç­¾ï¼šPreload å”¯ä¸€ä¾èµ–ï¼Œä»…ä½œç”¨äºåº”ç”¨å±‚ï¼Œä¸è®¤æ•°æ®åº“çº¦æŸã€‚</li>
</ul>
<h2><span id="å…­-é¿å‘æ¸…å•ä¸æ³¨æ„äº‹é¡¹">å…­ã€é¿å‘æ¸…å•ä¸æ³¨æ„äº‹é¡¹</span></h2><h3><span id="1-æ ‡ç­¾é…ç½®">1. æ ‡ç­¾é…ç½®</span></h3><ul>
<li>é…ç½®ç»“æ„ä½“å­—æ®µåï¼ˆå¤§å°å†™æ•æ„Ÿï¼‰ï¼Œéæ•°æ®åº“åˆ—åï¼›</li>
<li>å¤–é”®ä¸ä¸»é”®å­—æ®µç±»å‹éœ€ä¸€è‡´ï¼›</li>
<li>å¤šå¯¹å¤šéœ€æ˜¾å¼æŒ‡å®šä¸­é—´è¡¨ï¼ˆjoinTableï¼‰ã€‚</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">type User struct &#123;</span><br><span class="line">    ID    uint</span><br><span class="line">    Name  string</span><br><span class="line">    Roles []Role `gorm:&quot;many2many:user_roles;&quot;`  // ä¸­é—´è¡¨å</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">type Role struct &#123;</span><br><span class="line">    ID    uint</span><br><span class="line">    Name  string</span><br><span class="line">    Users []User `gorm:&quot;many2many:user_roles;&quot;`</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">// é»˜è®¤æ¨æ–­ï¼š</span><br><span class="line">// - User ç«¯ï¼šforeign key = UserID, reference key = ID</span><br><span class="line">// - Role ç«¯ï¼šforeign key = RoleID, reference key = ID</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">// æ˜¾å¼æŒ‡å®š</span><br><span class="line">type User struct &#123;</span><br><span class="line">    ID    uint</span><br><span class="line">    Name  string</span><br><span class="line">    Roles []Role `gorm:&quot;many2many:user_roles;foreignKey:ID;references:ID;joinForeignKey:UserId;joinReferences:RoleId&quot;`</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3><span id="2-æ€§èƒ½ä¼˜åŒ–">2. æ€§èƒ½ä¼˜åŒ–</span></h3><ul>
<li>é¿å…è¿‡åº¦é¢„åŠ è½½ï¼Œä»…åŠ è½½å¿…è¦æ•°æ®ï¼›</li>
<li>å¤§æ‰¹é‡æ•°æ®æŸ¥è¯¢éœ€åˆ†é¡µã€‚</li>
</ul>
<h3><span id="3-æ’é”™æŠ€å·§">3. æ’é”™æŠ€å·§</span></h3><ul>
<li>å¼€å¯ SQL æ—¥å¿—ï¼Œæ£€æŸ¥ IN æ¡ä»¶å­—æ®µä¸å€¼ï¼›</li>
<li>éªŒè¯ foreignKey&#x2F;references å­—æ®µçš„å­˜åœ¨æ€§ä¸æ‹¼å†™ï¼›</li>
<li>æ£€æŸ¥ä¸»&#x2F;å…³è”æ¨¡å‹æ•°æ®çš„åŒ¹é…æ€§ã€‚</li>
</ul>
<h2><span id="ä¸ƒ-æ ¸å¿ƒè¦ç‚¹æ€»ç»“">ä¸ƒã€æ ¸å¿ƒè¦ç‚¹æ€»ç»“</span></h2><ol>
<li>Preload æ ¸å¿ƒæ˜¯è§£å†³ N+1 é—®é¢˜ï¼ŒåŸç†ä¸ºâ€œæ‰¹é‡æŸ¥è¯¢+å†…å­˜æ‹¼æ¥â€ï¼›</li>
<li>ä¸»&#x2F;å…³è”æ¨¡å‹ç”±â€œæŸ¥è¯¢å‘èµ·æ–¹+æ ‡ç­¾é™„ç€æ–¹â€ç•Œå®šï¼›</li>
<li>foreignKey æŒ‡å‘å¤–é”®æŒæœ‰æ–¹å¤–é”®ä½ç½®ï¼Œreferences æŒ‡å‘è¢«å…³è”æ–¹ä¸»é”®ä½ç½®ï¼Œä¸å¯é¢ å€’ï¼›</li>
<li>Preload ä»…ä¾èµ–æ¨¡å‹æ ‡ç­¾ï¼Œä¸æ•°æ®åº“å¤–é”®çº¦æŸæ— å…³ã€‚</li>
</ol>
</div><div class="tags"><ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%90%8E%E7%AB%AF/" rel="tag">åç«¯</a></li></ul></div><div class="post-nav"><a class="next" href="/posts/%E6%96%B0%E6%89%8B%E4%B9%9F%E8%83%BD%E6%87%82%E7%9A%84%E5%88%86%E5%B1%82%E8%AE%BE%E8%AE%A1%EF%BC%9A%E4%B8%BA%E4%BB%80%E4%B9%88%E9%A1%B9%E7%9B%AE%E9%87%8C%E8%A6%81%E5%85%88%E5%AE%9A%E4%B9%89%E6%8E%A5%E5%8F%A3%E5%86%8D%E5%AE%9E%E7%8E%B0%EF%BC%9F/">æ–°æ‰‹ä¹Ÿèƒ½æ‡‚çš„åˆ†å±‚è®¾è®¡ï¼šä¸ºä»€ä¹ˆé¡¹ç›®é‡Œè¦å…ˆå®šä¹‰æ¥å£å†å®ç°</a></div></div></div></div><div class="pure-u-1 pure-u-md-4-4"><div id="footer">Copyright Â© 2026 <a href="/." rel="nofollow">RenaXu 's Wonderland.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=1.0.0" async></script><script type="text/javascript" src="https://unpkg.com/@fancyapps/fancybox/dist/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=1.0.0" async></script><link rel="stylesheet" type="text/css" href="https://unpkg.com/@fancyapps/fancybox/dist/jquery.fancybox.min.css"><link rel="stylesheet" type="text/css" href="/css/search.css?v=1.0.0"><script type="text/javascript" src="/js/search.js?v=1.0.0"></script><script>var search_path = 'search.xml';
if (search_path.length == 0) {
  search_path = 'search.xml';
}
var path = '/' + search_path;
searchFunc(path, 'local-search-input', 'local-search-result');
</script><script type="text/javascript" src="/js/copycode.js?v=1.0.0" successtext="å¤åˆ¶æˆåŠŸï¼"></script><link rel="stylesheet" type="text/css" href="/css/copycode.css?v=1.0.0"><script type="text/javascript" src="/js/codeblock-resizer.js?v=1.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=1.0.0"></script><script type="text/javascript" src="/js/toc.js?v=1.0.0"></script></div></body></html>